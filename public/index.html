<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <meta http-equiv="X-UA-Compatible" content="ie=edge" />
      <link
         rel="shortcut icon"
         href="img/icons8-chat-64.png"
         type="image/x-icon"
      />
      <link
         rel="stylesheet"
         href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css"
         integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk="
         crossorigin="anonymous"
      />
      <link rel="stylesheet" href="css/style.css" />
      <title>CharShift ChatBot</title>
   </head>
   <body>
      <div class="join-container">
         <header class="join-header">
            <h1 style="color: #f5f6f7">
               <i class="fas fa-comment-dots"></i> CharShift ChatBot
            </h1>
         </header>
         <main class="join-main">
            <div class="form-control">
               <label style="color: #f5f6f7" for="url">CharShift API URL</label>
               <input
                  type="text"
                  name="url"
                  id="url"
                  placeholder="Enter URL"
                  required
               />
            </div>
            <div class="form-control">
               <label style="color: #f5f6f7" for="key">Authentication Key</label>
               <input
                  type="text"
                  name="key"
                  id="key"
                  placeholder="Enter Key"
                  required
               />
            </div>
            <button id="start_chat" type="submit" class="btn">Join Chat</button>
         </main>
      </div>
   </body>
   <script type="text/javascript">
      document.getElementById('start_chat').addEventListener('click', function(event) {
         event.preventDefault();  // Prevent the default form submission

         const url = document.getElementById('url').value;
         const key = document.getElementById('key').value;

         if (url.indexOf('https://') === -1) return alert('Invalid URL!')
         if (key.indexOf('-') === -1) return alert('Invalid Key!')

         localStorage.setItem('apiUrl', url);
         localStorage.setItem('authKey', key);

         window.location.href = 'chat.html';
      });

   </script>
</html>
